version: "3.4"

services:
  xinfin-testnet-node:
    image: xinfinorg/xinfin-testnet-node:f7cf39e7d9f26a4c1859f263016cc86fb3a9ebd7
    volumes:
      - "./xdcchain:/work/xdcchain"
      - "./genesis.json:/work/genesis.json"
      - "./start-node.sh:/work/start-node.sh"
      - "./bootnodes.list:/work/bootnodes.list"
      - "./.pwd:/work/.pwd"
      - "/etc/localtime:/etc/localtime:ro"
    restart: "always"
    env_file: .env
    ports:
      - "30303:30303"
      - "8545:8545"

  netapis:
    image: xinfinorg/netapis
    restart: "on-failure:10"
    volumes:
      - "./netapis/app.json:/netapis/app.json"
      - "/etc/localtime:/etc/localtime:ro"
    env_file: .env
    depends_on:
      - xinfin-testnet-node 
